<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¿åŠ¨æ¨è - æ±•å¤´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", "å¾®è½¯é›…é»‘", sans-serif;
        }
        
        :root {
            --primary-blue: #1a6fb0;
            --secondary-blue: #4a90e2;
            --accent-gold: #d4af37;
            --light-bg: #f0f8ff;
            --dark-text: #333333;
        }
        
        body {
            background-color: white; /* ä¸»ä½“ä¸ºç™½è‰² */
    color: var(--dark-text);
    line-height: 1.6;
    /* é¡¶éƒ¨é’è‰²æ¸å˜ + åº•éƒ¨æµ…è“è‰²æ¸å˜ */
    background: 
        /* é¡¶éƒ¨é’è‰²æ¸å˜ - é«˜åº¦çº¦10% */
        linear-gradient(180deg, 
            rgba(64, 224, 208, 0.8) 0%, 
            rgba(64, 224, 208, 0.4) 50%,
            transparent 100%
        ),
        /* åº•éƒ¨æµ…è“è‰²æ¸å˜ - é«˜åº¦çº¦10% */
        linear-gradient(0deg, 
            rgba(173, 216, 230, 0.8) 0%, 
            rgba(173, 216, 230, 0.4) 50%,
            transparent 100%
        ),
        /* ä¸»ä½“ç™½è‰²èƒŒæ™¯ */
        linear-gradient(180deg, white 0%, white 100%);
    
    background-size: 100% 10%, 100% 10%, 100% 100%;
    background-repeat: no-repeat;
    background-position: top, bottom, center;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* å®šä½æ ‡ç­¾ */
        .location-tag {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: white;
            padding: 8px 15px;
            border-radius: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            font-size: 0.9rem;
            z-index: 10;
        }
        
        .location-tag i {
            margin-right: 5px;
            color: var(--primary-blue);
        }
        
        /* å›åˆ°ä¸»é¡µæŒ‰é’® */
        .home-btn-container {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .home-btn {
            display: inline-block;
            background-color: var(--primary-blue);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .home-btn:hover {
            background-color: var(--secondary-blue);
        }
        
        /* æ¨èåŒºåŸŸ */
        .recommendation-section {
            padding: 80px 0 40px;
            position: relative;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 40px;
            color: var(--primary-blue);
            position: relative;
        }
        
        .section-title::after {
            content: "";
            display: block;
            width: 80px;
            height: 4px;
            background: var(--accent-gold);
            margin: 15px auto;
        }
        
        /* è½®æ’­å›¾åŒºåŸŸå¸ƒå±€ */
        .carousel-area {
            display: flex;
            gap: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        /* ç¼©ç•¥å›¾åŒºåŸŸ */
        .thumbnail-container {
            width: 120px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .thumbnail {
            width: 100%;
            height: 80px;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .thumbnail:hover {
            opacity: 0.9;
            transform: scale(1.05);
        }
        
        .thumbnail.active {
            opacity: 1;
            border-color: var(--accent-gold);
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
        }
        
        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* è½®æ’­å›¾ */
        .carousel-container {
            flex: 1;
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .carousel {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        
        .carousel-item {
            min-width: 100%;
            position: relative;
        }
        
        .carousel-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            display: block;
        }
        
        .carousel-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            padding: 20px;
        }
        
        .carousel-caption h3 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        /* äº¤äº’å¼åœ°å›¾åŒºåŸŸ */
        .interactive-map {
            margin: 60px 0;
            padding: 30px 0;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
        }
        
        .map-container {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        
        .map-background {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .map-marker {
            position: absolute;
            width: 40px;
            height: 40px;
            background-color: var(--accent-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transform: translate(-50%, -50%);
            transition: all 0.3s ease;
            box-shadow: 0 3px 8px rgba(0,0,0,0.3);
            z-index: 5;
        }
        
        .map-marker:hover {
            transform: translate(-50%, -50%) scale(1.2);
            background-color: var(--primary-blue);
        }
        
        .map-marker::after {
            content: "";
            position: absolute;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 15px solid var(--accent-gold);
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .map-marker:hover::after {
            border-top-color: var(--primary-blue);
        }
        
        .map-popup {
            position: absolute;
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.2);
            width: 200px;
            z-index: 20;
            display: none;
        }
        
        .map-popup h4 {
            color: var(--primary-blue);
            margin-bottom: 5px;
        }
        
        .map-popup p {
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .map-popup a {
            display: inline-block;
            background-color: var(--primary-blue);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.8rem;
        }
        
        .map-popup a:hover {
            background-color: var(--secondary-blue);
        }
        
        /* è¿åŠ¨åˆ†ç±»åŒºåŸŸ */
        .sports-categories {
            display: flex;
            gap: 30px;
            margin-top: 60px;
        }
        
        .featured-sports {
            flex: 6;
        }
        
        .regular-sports {
            flex: 4;
        }
        
        .category-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary-blue);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-gold);
        }
        
        .sports-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .sport-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .sport-card:hover {
            transform: translateY(-5px);
        }
        
        .sport-image {
            height: 150px;
            background-color: #eee;
            background-size: cover;
            background-position: center;
        }
        
        .sport-info {
            padding: 15px;
        }
        
        .sport-name {
            font-size: 1.1rem;
            margin-bottom: 5px;
            color: var(--primary-blue);
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .sports-categories {
                flex-direction: column;
            }
            
            .carousel-image {
                height: 250px;
            }
            
            .location-tag {
                position: relative;
                top: 0;
                left: 0;
                margin-bottom: 20px;
                align-self: flex-start;
            }
            
            .recommendation-section {
                padding-top: 40px;
            }
            
            .carousel-area {
                flex-direction: column;
            }
            
            .thumbnail-container {
                width: 100%;
                flex-direction: row;
                order: 2;
                margin-top: 15px;
                justify-content: center;
            }
            
            .thumbnail {
                width: 80px;
                height: 60px;
            }
            
            .map-marker {
                width: 30px;
                height: 30px;
                font-size: 0.8rem;
            }
            
            .map-popup {
                width: 160px;
            }
        }
    </style>
</head>
<body>
    <!-- è¿åŠ¨æ¨èé¡µé¢ -->
    <section class="recommendation-section">
        <div class="container">
            <!-- å®šä½æ ‡ç­¾ -->
            <div class="location-tag">
                <i>ğŸ“</i> å®šä½ï¼šæ±•å¤´
            </div>        
            
            <!-- å›åˆ°ä¸»é¡µæŒ‰é’® -->
            <div class="home-btn-container">
                <a href="../index.html" class="home-btn">å›åˆ°ä¸»é¡µ</a>
            </div>
            
            <h2 class="section-title">æ¨èè¿åŠ¨æ™¯ç‚¹</h2>
            
            <!-- è½®æ’­å›¾åŒºåŸŸ -->
            <div class="carousel-area">
                <!-- ç¼©ç•¥å›¾åŒºåŸŸ -->
                <div class="thumbnail-container">
                    <!-- ç¼©ç•¥å›¾1 -->
                    <div class="thumbnail active" data-index="0">
                        <img src="../images/tuijian/1.jpg" alt="è¥¿å ¤å…¬å›­">
                    </div>
                    
                    <!-- ç¼©ç•¥å›¾2 -->
                    <div class="thumbnail" data-index="1">
                        <img src="../images/tuijian/2.jpg" alt="ç¤çŸ³é£æ™¯åŒº">
                    </div>
                    
                    <!-- ç¼©ç•¥å›¾3 -->
                    <div class="thumbnail" data-index="2">
                        <img src="../images/tuijian/3.png" alt="ä¸œæµ·å²¸å…¬å›­">
                    </div>
                    
                    <!-- ç¼©ç•¥å›¾4 -->
                    <div class="thumbnail" data-index="3">
                        <img src="../images/tuijian/4.jpg" alt="äººæ°‘å¹¿åœº">
                    </div>
                </div>
                
                <!-- è½®æ’­å›¾ -->
                <div class="carousel-container">
                    <div class="carousel">
                        <!-- è½®æ’­é¡¹1 -->
                        <div class="carousel-item">
                            <a href="1.html">
                                <img src="../images/tuijian/1.jpg" alt="æ¨èæ™¯ç‚¹1" class="carousel-image">
                                <div class="carousel-caption">
                                    <h3>ï¼ˆè‡ªç„¶ç”Ÿæ€ç«™ç‚¹ï¼‰ç¤çŸ³å±±é£æ™¯åŒº</h3>
                                    <p>ä½äºæ±•å¤´å¸‚æ¿ æ±ŸåŒºçš„å›½å®¶4Açº§æ—…æ¸¸æ™¯åŒº</p>
                                </div>
                            </a>
                        </div>
                        
                        <!-- è½®æ’­é¡¹2 -->
                        <div class="carousel-item">
                            <a href="2.html">
                                <img src="../images/tuijian/2.jpg" alt="æ¨èæ™¯ç‚¹3" class="carousel-image">
                                <div class="carousel-caption">
                                    <h3>ï¼ˆä¾¨ä¹¡æ–‡åŒ–ä¸çº¢è‰²è®°å¿†èåˆç«™ç‚¹ï¼‰è¥¿å ¤å…¬å›­</h3>
                                    <p>æ±•å¤´æœ€ç¾çš„æµ·æ»¨è·‘æ­¥è·¯çº¿ã€‚</p>
                                </div>
                            </a>
                        </div>
                        
                        <!-- è½®æ’­é¡¹3 -->
                        <div class="carousel-item">
                            <a href="3.html">
                                <img src="../images/tuijian/3.png" alt="æ¨èæ™¯ç‚¹2" class="carousel-image">
                                <div class="carousel-caption">
                                    <h3>ï¼ˆä¾¨ä¹¡æ–‡åŒ–ä¸çº¢è‰²è®°å¿†èåˆç«™ç‚¹ï¼‰å•†åŸ ä¹‹èŠ¯Â·å°å…¬å›­ä¸­å±±çºªå¿µäº­  æ±•å¤´å¼€åŸ æ–‡åŒ–é™ˆåˆ—é¦†</h3>
                                    <p>ç©¿è¶Šéª‘æ¥¼çš„éŸµå¾‹ï¼Œä½“éªŒç™¾è½½å•†åŸ çš„ç¹åï¼Œä¼ æ‰¿çº¢è‰²è®°å¿†ã€‚</p>
                                </div>
                            </a>
                        </div>

						<!-- è½®æ’­é¡¹4 -->
                        <div class="carousel-item">
                            <a href="4.html">
                                <img src="../images/tuijian/4.jpg" alt="æ¨èæ™¯ç‚¹4" class="carousel-image">
                                <div class="carousel-caption">
                                    <h3>ï¼ˆé’æ˜¥æ ¡å›­æ´»åŠ›ç«™ç‚¹ï¼‰æ±•å¤´å¸‚ç¬¬ä¸€ä¸­å­¦</h3>
                                    <p>åœ¨æ—¥å¸¸çš„ç”Ÿæ´»ä¸­ä½“éªŒé”»ç‚¼ã€‚</p>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- äº¤äº’å¼åœ°å›¾åŒºåŸŸ -->
            <div class="interactive-map">
                <h3 class="section-title">è¿åŠ¨åœ°ç‚¹åœ°å›¾</h3>
                <div class="map-container">
                    <img src="../images/map-background.jpg" alt="æ±•å¤´è¿åŠ¨åœ°ç‚¹åœ°å›¾" class="map-background">
                  <div class="map-marker" style="left: 75%; top: 45%;" data-index="3"> äºº </div>
<!-- åœ°å›¾æ ‡è®°ç‚¹1 - è¥¿å ¤å…¬å›­ -->
                    <div class="map-marker" style="left: 25%; top: 40%;" data-index="0">
                        è¥¿
                    </div>
                    
                    <!-- åœ°å›¾æ ‡è®°ç‚¹2 - å•†åŸ ä¹‹èŠ¯ -->
                    <div class="map-marker" style="left: 45%; top: 35%;" data-index="1">
                        å•†
                    </div>
                    
                    <!-- åœ°å›¾æ ‡è®°ç‚¹3 - ä¾¨ä¹¡ä¹‹çª— -->
                    <div class="map-marker" style="left: 60%; top: 50%;" data-index="2">
                        ä¾¨
                    </div>
                    
                    <!-- åœ°å›¾æ ‡è®°ç‚¹4 - äººæ–‡ä¹‹å…‰ -->
                    
                    <!-- åœ°å›¾å¼¹çª— -->
                    <div class="map-popup" id="map-popup">
                        <h4 id="popup-title">åœ°ç‚¹åç§°</h4>
                        <p id="popup-desc">åœ°ç‚¹æè¿°</p>
                        <a href="#" id="popup-link">æŸ¥çœ‹è¯¦æƒ…</a>
                  </div>
                </div>
            </div>
            
            <!-- è¿åŠ¨åˆ†ç±» -->
            <div class="sports-categories">
                <!-- ç‰¹è‰²è¿åŠ¨ -->
                <div class="featured-sports">
                    <h3 class="category-title">ç‰¹è‰²è¿åŠ¨</h3>
                    <div class="sports-grid">
                        <!-- è¿åŠ¨é¡¹ç›®1 -->
                        <div class="sport-card">
                            <div class="sport-image" style="background-color: #a8d5e5;background-image: url('../images/tuijian/5.jpg'); background-size: cover; background-position: center;"></div>
                            <div class="sport-info">
                                <h4 class="sport-name">â€œæ½®æ±å‘¼å¸æ³•â€</h4>
                                <p> â€œæ½®èµ·ï¼ˆå¸æ°”ï¼‰- æ½®è½ï¼ˆå‘¼æ°”ï¼‰â€</p>
                            </div>
                        </div>
                        
                        <!-- è¿åŠ¨é¡¹ç›®2 -->
                        <div class="sport-card">
                            <div class="sport-image" style="background-color: #a8d5e5;background-image: url('../images/tuijian/6.jpg'); background-size: cover; background-position: center;"></div>
                            <div class="sport-info">
                                <h4 class="sport-name">â€œå²©é˜¶è¸æ³•â€</h4>
                                <p>ç¤çŸ³å±±åœ°è²Œï¼Œè®¾è®¡å…¨è„šæŒç€åœ°ã€å°æ­¥å¹…æ”€å‡çš„ç™»å±±æŠ€å·§</p>
                            </div>
                        </div>
                        
                        <!-- è¿åŠ¨é¡¹ç›®3 -->
                        <div class="sport-card">
                            <div class="sport-image" style="background-color: #a8d5e5;background-image: url('../images/tuijian/7.jpg'); background-size: cover; background-position: center;"></div>
                            <div class="sport-info">
                                <h4 class="sport-name">â€œéª‘æ¥¼æ­¥é¢‘è°ƒèŠ‚æ³•â€</h4>
                                <p>è°ƒæ•´æ¼«æ­¥æ­¥é¢‘ä»¥é€‚é…è¡—åŒºæ™¯è§‚èŠ‚å¥</p>
                            </div>
                        </div>
                        
                        <!-- è¿åŠ¨é¡¹ç›®4 -->
                        <div class="sport-card">
                            <div class="sport-image" style="background-color: #a8d5e5;background-image: url('../images/tuijian/8.png'); background-size: cover; background-position: center;"></div>
                            <div class="sport-info">
                                <h4 class="sport-name">â€œä¾¨æ‰¹èŠ‚å¥è·‘â€</h4>
                                <p>æ¨¡æ‹Ÿä¾¨èƒå¾€æ¥è„‰ç»œï¼Œè®¾è®¡å¿«æ…¢äº¤æ›¿çš„é—´æ­‡è·‘æ¨¡å¼</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- å¸¸è§„è¿åŠ¨ -->
                <div class="regular-sports">
                    <h3 class="category-title">å¸¸è§„è¿åŠ¨</h3>
                    <div class="sports-grid">
                        <!-- è¿åŠ¨é¡¹ç›®1 -->
                        <div class="sport-card">
                            <div class="sport-image" style="background-color: #a8d5e5;background-image: url('../images/tuijian/9.jpg'); background-size: cover; background-position: center;"></div>
                            <div class="sport-info">
                                <h4 class="sport-name">å¥èº«å¹¿åœº</h4>
                                <p>ç¤¾åŒºç¯®çƒåœºæ´»åŠ¨</p>
                            </div>
                        </div>
                        
                        <!-- è¿åŠ¨é¡¹ç›®2 -->
                        <div class="sport-card">
                            <div class="sport-image" style="background-color: #a8d5e5;background-image: url('../images/tuijian/10.jpg'); background-size: cover; background-position: center;"></div>
                            <div class="sport-info">
                                <h4 class="sport-name">â€œæ¸…æ™¨å”¤é†’è·‘â€</h4>
                                <p>è¿æ¥æ—©æ™¨çš„æ–°é²œç©ºæ°”</p>
                            </div>
                        </div>
                        
                        <!-- è¿åŠ¨é¡¹ç›®3 -->
                        <div class="sport-card">
                            <div class="sport-image" style="background-color: #a8d5e5;background-image: url('../images/tuijian/11.jpg'); background-size: cover; background-position: center;"></div>
                            <div class="sport-info">
                                <h4 class="sport-name">â€œå‚æ™šæ”¾æ¾è·‘â€</h4>
                                <p>éšç€æœéœè¿åŠ¨</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // è½®æ’­å›¾åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const carousel = document.querySelector('.carousel');
            const items = document.querySelectorAll('.carousel-item');
            const thumbnails = document.querySelectorAll('.thumbnail');
            const totalItems = items.length;
            let currentIndex = 0;
            let interval;
            
            // åˆ‡æ¢åˆ°æŒ‡å®šç´¢å¼•çš„å›¾ç‰‡
            function goToSlide(index) {
                currentIndex = index;
                carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
                
                // æ›´æ–°ç¼©ç•¥å›¾æ¿€æ´»çŠ¶æ€
                thumbnails.forEach((thumb, i) => {
                    if (i === currentIndex) {
                        thumb.classList.add('active');
                    } else {
                        thumb.classList.remove('active');
                    }
                });
                
                // é‡ç½®è‡ªåŠ¨è½®æ’­
                resetInterval();
            }
            
            // é‡ç½®è‡ªåŠ¨è½®æ’­è®¡æ—¶å™¨
            function resetInterval() {
                clearInterval(interval);
                interval = setInterval(() => {
                    currentIndex = (currentIndex + 1) % totalItems;
                    goToSlide(currentIndex);
                }, 4000);
            }
            
            // ä¸ºç¼©ç•¥å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶
            thumbnails.forEach((thumbnail, index) => {
                thumbnail.addEventListener('click', () => {
                    goToSlide(index);
                });
            });
            
            // å¯åŠ¨è‡ªåŠ¨è½®æ’­
            resetInterval();
            
            // äº¤äº’å¼åœ°å›¾åŠŸèƒ½
            const mapMarkers = document.querySelectorAll('.map-marker');
            const mapPopup = document.getElementById('map-popup');
            const popupTitle = document.getElementById('popup-title');
            const popupDesc = document.getElementById('popup-desc');
            const popupLink = document.getElementById('popup-link');
            
            // åœ°ç‚¹ä¿¡æ¯æ•°æ®
            const locations = [
                {
                    title: "è¥¿å ¤å…¬å›­",
                    description: "æ±•å¤´æœ€ç¾çš„æµ·æ»¨è·‘æ­¥è·¯çº¿",
                    link: "1.html"
                },
                {
                    title: "å•†åŸ ä¹‹èŠ¯ Â· å°å…¬å›­ä¸­å±±çºªå¿µäº­",
                    description: "ç©¿è¶Šéª‘æ¥¼çš„éŸµå¾‹ï¼Œä½“éªŒç™¾è½½å•†åŸ çš„ç¹åï¼Œè¿›è¡Œå˜é€Ÿè·‘è®­ç»ƒã€‚",
                    link: "2.html"
                },
                {
                    title: "ä¾¨ä¹¡ä¹‹çª— Â· ä¾¨æ‰¹æ–‡ç‰©é¦†",
                    description: "æ„Ÿå—'å®¶ä¹¦æŠµä¸‡é‡‘'çš„ä¿¡å¿µï¼Œé€šè¿‡æŒç»­æ…¢è·‘åŸ¹å…»è€åŠ›ä¸æ¯…åŠ›ã€‚",
                    link: "3.html"
                },
                {
                    title: "äººæ–‡ä¹‹å…‰ Â· æ±•å¤´å¸‚åšç‰©é¦†",
                    description: "æ±²å–çŸ¥è¯†çš„åŠ›é‡ï¼Œè¿›è¡Œç§¯ææ¢å¤è·‘ï¼Œä¸ºæœ€ç»ˆå†²åˆºåšå‡†å¤‡ã€‚",
                    link: "4.html"
                }
            ];
            
            // ä¸ºåœ°å›¾æ ‡è®°ç‚¹æ·»åŠ äº‹ä»¶
            mapMarkers.forEach(marker => {
                marker.addEventListener('click', function(e) {
                    e.stopPropagation(); // é˜²æ­¢äº‹ä»¶å†’æ³¡
                    
                    const index = parseInt(this.getAttribute('data-index'));
                    const location = locations[index];
                    
                    // æ›´æ–°å¼¹çª—å†…å®¹
                    popupTitle.textContent = location.title;
                    popupDesc.textContent = location.description;
                    popupLink.href = location.link;
                    
                    // è·å–æ ‡è®°ç‚¹ä½ç½®
                    const markerRect = this.getBoundingClientRect();
                    const containerRect = this.parentElement.getBoundingClientRect();
                    
                    // è®¡ç®—å¼¹çª—ä½ç½® - ç¡®ä¿ä¸ä¼šè¶…å‡ºåœ°å›¾è¾¹ç•Œ
                    let popupTop = markerRect.top - containerRect.top - 120;
                    let popupLeft = markerRect.left - containerRect.left - 100;
                    
                    // å¦‚æœå¼¹çª—é¡¶éƒ¨è¶…å‡ºåœ°å›¾é¡¶éƒ¨ï¼Œåˆ™æ˜¾ç¤ºåœ¨æ ‡è®°ç‚¹ä¸‹æ–¹
                    if (popupTop < 10) {
                        popupTop = markerRect.top - containerRect.top + 40;
                    }
                    
                    // å¦‚æœå¼¹çª—å·¦ä¾§è¶…å‡ºåœ°å›¾å·¦ä¾§ï¼Œåˆ™å‘å³è°ƒæ•´
                    if (popupLeft < 10) {
                        popupLeft = 10;
                    }
                    
                    // å¦‚æœå¼¹çª—å³ä¾§è¶…å‡ºåœ°å›¾å³ä¾§ï¼Œåˆ™å‘å·¦è°ƒæ•´
                    const mapWidth = containerRect.width;
                    if (popupLeft + 200 > mapWidth) {
                        popupLeft = mapWidth - 210;
                    }
                    
                    // è®¾ç½®å¼¹çª—ä½ç½®
                    mapPopup.style.top = popupTop + 'px';
                    mapPopup.style.left = popupLeft + 'px';
                    
                    // æ˜¾ç¤ºå¼¹çª—
                    mapPopup.style.display = 'block';
                });
            });
            
            // ç‚¹å‡»åœ°å›¾å…¶ä»–åœ°æ–¹å…³é—­å¼¹çª—
            document.querySelector('.map-container').addEventListener('click', function() {
                mapPopup.style.display = 'none';
            });
            
            // ç‚¹å‡»å¼¹çª—å†…éƒ¨æ—¶ä¸å…³é—­å¼¹çª—
            mapPopup.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        });
    </script>
</body>
</html>